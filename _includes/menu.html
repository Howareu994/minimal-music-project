<aside class="menu">
    <div class="menu-top">
        <div class="menu-top_logo">
            <a href="{{ '/' | relative_url }}" >
                <img src="{{ site.data.metaData.logo | relative_url }}" alt="Logo" onerror="this.style.display='none'">
            </a>
        </div>
        <ul class="navigation">
            {% for menu_item in site.data.menu.menu_pages %}
            <li>
                <a href="{{ menu_item.url | relative_url }}" category="{{ menu_item.category }}" title="{{ menu_item.tooltip }}">
                    <span>{{ menu_item.title }}</span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
    <div class="menu-contact">
        {% for contact in site.data.menu.menu_contacts %}

        <a href="{{ contact.url | relative_url }}" target="{{ contact.target }}">
            <i class="{{ contact.faicon }}"></i>
        </a>
        {% endfor %}
    </div>
</aside>

<script>
    (function() {
        window.addEventListener("load", () => {
            const navigation = document.getElementsByClassName("navigation")[0];
            const selectedCategory = navigation.getElementsByTagName("a");
            const currCategory = "{{ page.category }}";
            const currCategories = "{{ page.categories }}";

            for(const menuItem of selectedCategory) {
                const menuCategory = menuItem.getAttribute("category")
                if(menuCategory === currCategory || 
                    menuCategory === currCategories) {
                    menuItem.classList.add("selected");
                    return;
                }
            }
        });
    })();
</script>